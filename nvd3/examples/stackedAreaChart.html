<!DOCTYPE html>
<meta charset="utf-8">

<!-- <link href="../src/nv.d3.css" rel="stylesheet" type="text/css"> -->
<!-- <link href="../src/nv.d3.css" rel="stylesheet" type="text/css"> -->
<!-- <link href="../../bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"> -->

<style>

/*body {*/
  /*overflow-y:scroll;*/
/*}*/

text {
  font: 12px sans-serif;
}

#chart1, #chart2 {
  height: 500px;
}

</style>
<body>

  <div>
    <svg id="chart1"></svg>
  </di2>

  <div>
    <!--<svg id="chart2"></svg>-->
  </div>

<script src="../lib/d3.v3.js"></script>
<script src="../nv.d3.js"></script>
<!-- <script src="../src/utils.js"></script> -->
<!-- <script src="../src/models/axis.js"></script> -->
<!-- <script src="../src/tooltip.js"></script> -->
<!-- <script src="../src/interactiveLayer.js"></script> -->
<!-- <script src="../src/models/legend.js"></script> -->
<!-- <script src="../src/models/axis.js"></script> -->
<!-- <script src="../src/models/scatter.js"></script> -->
<!-- <script src="../src/models/stackedArea.js"></script> -->
<!-- <script src="../src/models/stackedAreaChart.js"></script> -->
<script src="../../underscore.js"></script>
<script src="../../jquery.js"></script>
<script src="../../bootstrap/js/bootstrap.js"></script>
<script>


var histcatexplong =[{"key": "key 1", "values": [[1, 5], [2, 25], [3, 45]]},
              {"key": "key 2", "values": [[1, 15],[2, 7],  [3, 0]]}]

/*
.map(function(series) {
  series.values = series.values.map(function(d) {
    return { x: d[0], y: d[1] }
  });
  return series;
});
*/

//an example of harmonizing colors between visualizations
//observe that Consumer Discretionary and Consumer Staples have 
//been flipped in the second chart
// var colors = d3.scale.category20();
// keyColor = function(d, i) {return colors(d.key)};


document.addEventListener('DOMContentLoaded', function () {
    // nv.utils.windowResize(chart.update);
  var chart;
nv.addGraph(function() {
  chart = nv.models.stackedAreaChart()
               // .width(600).height(500)
                // .useInteractiveGuideline(true)
                .x(function(d) { return d[0] })
                .y(function(d) { return d[1] })
                // .color(keyColor)
                .transitionDuration(300);
                //.clipEdge(true);

// chart.stacked.scatter.clipVoronoi(false);


  d3.select('#chart1')
    .datum(histcatexplong)
    .transition().duration(0)
    .call(chart);

  // nv.utils.windowResize(chart.update);

  // chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e)); });

  return chart;
});
});



</script>
